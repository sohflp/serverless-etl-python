ingestor:
  handler: lambda_ingestor.handler
  module: src/
  name: ${self:custom.customPrefix}-ingestor-${self:custom.customSulfix}
  runtime: python3.8
  # memorySize: 128
  # timeout: 6
  # reservedConcurrency: 10
  role: iamRoleIngestor
  package:
    include:
      - src/lambda_ingestor.py
      - src/util/common.py
    # exclude:
    #   - requirements.txt
  events:
    - s3: s3bucketDataRaw

transformer:
  handler: lambda_transformer.handler
  module: src/
  name: ${self:custom.customPrefix}-transformer-${self:custom.customSulfix}
  runtime: python3.8
  # memorySize: 128
  # timeout: 6
  # reservedConcurrency: 10
  role: iamRoleTransformer
  package:
    include:
      - src/lambda_transformer.py
      - src/util/common.py
    # exclude:
    #   - requirements.txt
  events:
    - stream:
        type: dynamodb
        arn:
          Fn::GetAtt:
            - dynamoMetadataTable
            - StreamArn